<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Parallel GDB: Parallel GDB</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="breakpoint.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Parallel GDB
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Parallel GDB </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a>This program is for debugging parallel programs either on the local machine or on a remote cluster using SSH. It provides support to launch the processes via mpirun and srun. <img src="pgdb.png" alt="" class="inline" title="Screenshot of Parallel GDB"/></p>
<h1><a class="anchor" id="autotoc_md1"></a>
Structure</h1>
<p>This debugger consists of two parts:</p><ol type="1">
<li>The GUI master running on the host machine (See screenshot)</li>
<li>The slaves running on the host machine or the remote cluster</li>
</ol>
<h1><a class="anchor" id="autotoc_md2"></a>
Building</h1>
<p>To build these two separate executables, you can use the following command from the top level directory. </p><pre class="fragment">mkdir bin
make
</pre><p> This will generate a <code>pgdb</code> and a <code>pgdbslave</code> executable in the <code>bin</code> directory. Use </p><pre class="fragment">make install
</pre><p> to install these binaries into <code>/usr/local/bin</code>. If you only want a specific executable you can run </p><pre class="fragment">make master
</pre><p> or </p><pre class="fragment">make slave
</pre><p> to get the corresponding executable. Use </p><pre class="fragment">make clean
</pre><p> to delete all generated files. To delete the executables from the <code>/usr/local/bin</code> directory run </p><pre class="fragment">make uninstall
</pre> <h1><a class="anchor" id="autotoc_md3"></a>
Dependencies</h1>
<h2><a class="anchor" id="autotoc_md4"></a>
Compile-Time</h2>
<p>The following dependencies must be available for building the master:</p><ul>
<li>libgtkmm-3.0</li>
<li>libgtksourceviewmm-3.0</li>
<li>libssh</li>
</ul>
<p>On Debian based systems, you can use the following command to install them: </p><pre class="fragment">apt install libgtkmm-3.0-dev libgtksourceviewmm-3.0-dev libssh-dev
</pre><p> To build the slave only C++ standard libraries are needed.</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Run-Time</h2>
<p>For the debugger to work, the following programs need to be installed and be available in the $PATH environment variable of the master/slave:</p><ul>
<li>mpirun: To start the slave instances using MPI. (master)</li>
<li>srun: To start the slave instances using slurm. (master)</li>
<li>GDB: To debug the target program. (slave)</li>
<li>socat: To handle the I/O of the GDB instance and the target instance. (slave)</li>
</ul>
<p>Furthermore, when debugging on a remote cluster, the <code>pgdbslave</code> executable needs to be copied to or build on this machine.</p>
<h1><a class="anchor" id="autotoc_md6"></a>
Using the debugger</h1>
<p>When installed (and <code>/usr/local/bin</code> is included in the $PATH environment variable) the debugger is started by: </p><pre class="fragment">pgdb
</pre><p> or by searching for it in the desktop application menu. If the debugger is only built it can be run with </p><pre class="fragment">./bin/pgdb
</pre><p> In the startup dialog you need to set the path to the <code>pgdbslave</code> and <code>target</code> executable, as well as some other parameters. This configuration can be exported and imported at the next start.</p>
<p>The master will start the specified number of slaves, each of which will start the GDB instance, running the target program, and two socat instances, handling the I/O of GDB and the target.</p>
<p>If SSH is enabled, the master logs on to the remote cluster and starts the slaves there.</p>
<h2><a class="anchor" id="autotoc_md7"></a>
Custom launcher command</h2>
<p>If you need to make specific changes to the start command, or need to use a completely different launcher, you can check the "custom" launcher option in the startup dialog. This command will invalidate all configurations except for the SSH options, the Number of Processes and the Base Port. For the master to know how many connections to open the Number of Processes still needs to be set in the startup dialog. Make SURE they match up with what you set in your custom command.</p>
<p>If Parallel GDB should not start the slaves at all, check the "custom" launcher option and leave the Launcher Arguments blank.</p>
<p>The slave supports two possibilities to set its rank and the size. Under normal conditions it will try to read the environment variables set by OpenMPI/PMI: </p><pre class="fragment">OMPI_COMM_WORLD_RANK
OMPI_COMM_WORLD_SIZE

PMI_RANK
PMI_SIZE
</pre><p> If the launcher you are using is not setting those environment variables, you can specify custom environment variable names for the rank and size: </p><pre class="fragment">-k &lt;name&gt; # rank
-z &lt;name&gt; # size
</pre><p> To directly pass the rank or size to the slave use: </p><pre class="fragment">-r &lt;rank&gt;
-s &lt;size&gt;
</pre><p> The rank must be set for every slave individually, so the launch command should probably start a shell script/etc.</p>
<h1><a class="anchor" id="autotoc_md8"></a>
Example Target</h1>
<p>In this project a small example target and configuration file for it is included. It can be built with: </p><pre class="fragment">cd example
mkdir bin
make
</pre><p> After that the debugger can be started with: </p><pre class="fragment">cd ..
./bin/pgdb
</pre><p> Then, in the startup dialog, load the configuration file <code>config</code> from the <code>example</code> folder and customize it to your needs. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
